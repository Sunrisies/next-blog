第1章、万里长征第一步 —— 概述与阅读建议
======================

标签： 计算机是怎样运行的

* * *

分层与抽象
-----

计算机是一个庞然大物，而且有成千上万的科学家仍在日以继夜的为它添砖加瓦，使得这个庞然大物越来越复杂。人类在管理复杂事物时常常会将它们分成若干层次，上层与下层之间只要暴露简单的沟通接口，上层无需了解下层是怎么实现的，这样每一层中所面临的问题的复杂性就降低了很多。比方说治理一个国家很困难，所以将国家分成了省、市、县、乡、村；治理一支军队很困难，所以将军队分成了军、师、旅、团、营、连、排、小工兵（这样旅长只需要给李云龙下命令：干掉狗日的山崎大队！而不用关心李云龙到底是通过集团冲锋还是土工作业的方式把山崎大队干掉的）。

为了降低计算机这个庞然大物的复杂度，我们可以将其拆分为如下图所示的多个层次：

![image_1fd8s0epi2pkgkqtf10c41h99.png-17.9kB](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/414f985e4e6d4e5f9141df181bd9409b~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.image#?w=261&h=499&s=18376&e=png&b=fcfcfc)

比方说我们用C语言敲了一行printf的代码，然后把它编译运行，最后在屏幕上把它显示出来，这样的一个简单的操作，其实是经过层层调用得到的：

*   我们的应用程序会调用操作系统提供的往屏幕上输出一行字的接口，称之为系统调用，应用程序是不关心操作系统将这行字儿输出到屏幕的具体细节的。不同厂商可以生产不同的操作系统，比方说Unix、Linux、Windows之类的。
    
*   操作系统接收到需要往屏幕上输出一行字儿的系统调用之后，会调用相关硬件的驱动程序来真正的操作硬件。程序其实是由一条一条的机器指令构成的，我们编写程序时只需要按照我们所使用CPU采用的指令集体系结构中所指定的格式来编写指令即可，而不用关心指令是如何实现的。不同的厂商生产的不同机器会提供不同的指令集体系结构，比方说x86、MIPS、RISC-V等等。
    
*   针对同一个指令集体系结构来说，不同的厂商可以针对同样的机器指令画出不同的电路图，比方说对于x86指令集体系结构，Intel公司和AMD公司可以针对同一个机器指令开发出不同的电路图，这个电路图就是所谓的微体系结构。
    
*   微体系结构是由若干电路组件组成的，比方说做加法需要加法器，做乘法需要乘法器，存储数据需要寄存器等等，针对同一个电路组件可以有不同的实现，比方说对于加法器来说，我们可以使用行波进位加法器，也可以使用先行进位加法器。
    
*   电路组件其实是由逻辑门组成的，而完成同样功能的逻辑门，又可以被继电器、真空管或者晶体管这些器件实现。
    
*   至于继电器、真空管、晶体管这些器件是怎样导电的，就是物理学家们所要研究的话题了。
    

本小册将从物理的电学知识开始，从最底层逐层向上唠叨，直到计算机体系结构层次。关于操作系统的知识，我们只能留在下一本书里再详细唠叨了。

> 小贴示：  
>   
> 上边的内容看不懂很正常，咱不是还没开始看小册呢么。不要纠结，这里只是概要性的描述一下而已。

阅读建议
----

![image_1f7sdfc405lhovek7g10kuqh816.png-259.2kB](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad4ee14fa5894391884e7f200491089e~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.image#?w=1280&h=631&s=265459&e=png&b=000000)

*   不要跳着看！不要跳着看！不要跳着看！
    
    本小册非灌输式教学，而是像影视剧那样依靠剧情推动章节发展。为了最好的阅读体验，我们也思考了很多遍各个概念的出场顺序。我们尽最大努力不使用未介绍过的概念去介绍新概念，而且中间有众多的细节和铺垫，这就要求读者先掌握前边章节所唠叨的知识，再掌握后边章节唠叨的知识。这就像你在追一部电视剧时如果中间跳过了几集，那么整个剧情就会不连贯，对自己的观影体验有很大的影响。
    
*   本小册是由 Markdown 写成，在电脑端阅读体验十分舒服，当然你非要用小手机看我也不拦着你，但是效果打了折扣是你的损失（尤其是一些图的细节可能展示效果不好）。
    
*   小册中的图片包含了大量细节，如果看不清的话，可以点击图片查看大图。
    
*   本书的内容在FPGA上做了实现（总线以及之前的章节，尚未实现中断处理），源码地址是：
    
    [github.com/fatheroflin…](https://github.com/fatheroflink/xiaohaizi_cpu "https://github.com/fatheroflink/xiaohaizi_cpu")
    
*   本小册参考了很多书书籍资料，小孩子整理了一些官方文档给各位同学，省的大家自己花费时间去官方下载：
    
    链接：[pan.baidu.com/s/1K3NqJd0Z…](https://pan.baidu.com/s/1K3NqJd0ZpWTdghJcQX5I5Q "https://pan.baidu.com/s/1K3NqJd0ZpWTdghJcQX5I5Q")
    
    提取码：xook
    
*   此小册非正经科学专著，亦非十三五国家级规划教材，喜欢正经论述的同学请避免购买本小册。
    
*   为保证每一个读者都可以看懂本小册，在某些章节部分可能会略显啰嗦，这一点希望大家理解。
    

关于答疑
----

传道授业解惑，解惑很重要。在学习一门知识时，一个很小的疑惑就可能让我们止步数日不前。小孩子编写本书的时候的这种感受更为深刻，在遇到疑惑时只能从一本参考书跳到另一本参考书，另一本书中的疑惑又得去别的书中寻求答案。如果有人能够帮助答疑，可能十分钟就可以解决问题。大家在阅读小册的过程中遇到任何让自己觉得困惑的问题，都可以到我们的答疑群中提问。大家可以通过小册主页的入群按钮或者直接扫描下边的二维码进入答疑群：

![1b582e0f45882edbf31abfe8284cdaa.jpg](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f5e4f7a0b0df4e7cb682c8d53e8d644d~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.image#?w=430&h=430&s=41529&e=jpg&b=fefefe)

不建议以留言的方式提问，因为作者很少去看，可能隔了一个月才会得到回复。

> 小贴士：小册之内的问题我会尽量回复，其他问题请和群友讨论。另外，各位可以咨询一下身边有购买过《MySQL是怎样运行的》同学，小孩子的答疑服务绝对是超棒滴~